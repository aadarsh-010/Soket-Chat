{"ast":null,"code":"var _jsxFileName = \"E:\\\\Soket-chat\\\\Soket-Chat\\\\Frontend\\\\src\\\\components\\\\Chat\\\\ChatContainer.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getConversationMessages } from \"../../features/chatSlice\";\nimport { checkOnlineStatus, getConversationId } from \"../../utils/chat\";\nimport { ChatActions } from \"./actions\";\nimport ChatHeader from \"./header/ChatHeader\";\nimport ChatMessages from \"./messages/ChatMessages\";\nimport FilesPreview from \"./preview/files/FilesPreview\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatContainer(_ref) {\n  _s();\n  let {\n    onlineUsers,\n    typing,\n    callUser\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    activeConversation,\n    files\n  } = useSelector(state => state.chat);\n  const {\n    user\n  } = useSelector(state => state.user);\n  const {\n    token\n  } = user;\n  const values = {\n    token,\n    convo_id: activeConversation === null || activeConversation === void 0 ? void 0 : activeConversation._id\n  };\n  useEffect(() => {\n    if (activeConversation !== null && activeConversation !== void 0 && activeConversation._id) {\n      dispatch(getConversationMessages(values));\n    }\n  }, [activeConversation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-full border-l dark:border-l-dark_border_2 select-none overflow-hidden \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n        online: activeConversation.isGroup ? false : checkOnlineStatus(onlineUsers, user, activeConversation.users),\n        callUser: callUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), files.length > 0 ? /*#__PURE__*/_jsxDEV(FilesPreview, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ChatMessages, {\n          typing: typing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChatActions, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatContainer, \"zQLHqXnb1BzH+6EhFdgCKjsvw+0=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = ChatContainer;\nvar _c;\n$RefreshReg$(_c, \"ChatContainer\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","getConversationMessages","checkOnlineStatus","getConversationId","ChatActions","ChatHeader","ChatMessages","FilesPreview","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatContainer","_ref","_s","onlineUsers","typing","callUser","dispatch","activeConversation","files","state","chat","user","token","values","convo_id","_id","className","children","online","isGroup","users","fileName","_jsxFileName","lineNumber","columnNumber","length","_c","$RefreshReg$"],"sources":["E:/Soket-chat/Soket-Chat/Frontend/src/components/Chat/ChatContainer.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getConversationMessages } from \"../../features/chatSlice\";\nimport { checkOnlineStatus, getConversationId } from \"../../utils/chat\";\nimport { ChatActions } from \"./actions\";\nimport ChatHeader from \"./header/ChatHeader\";\nimport ChatMessages from \"./messages/ChatMessages\";\nimport FilesPreview from \"./preview/files/FilesPreview\";\n\nexport default function ChatContainer({ onlineUsers, typing, callUser }) {\n  const dispatch = useDispatch();\n  const { activeConversation, files } = useSelector((state) => state.chat);\n  const { user } = useSelector((state) => state.user);\n  const { token } = user;\n  const values = {\n    token,\n    convo_id: activeConversation?._id,\n  };\n  useEffect(() => {\n    if (activeConversation?._id) {\n      dispatch(getConversationMessages(values));\n    }\n  }, [activeConversation]);\n  return (\n    <div className=\"relative w-full h-full border-l dark:border-l-dark_border_2 select-none overflow-hidden \">\n      {/*Container*/}\n      <div>\n        {/*Chat header*/}\n        <ChatHeader\n          online={\n            activeConversation.isGroup\n              ? false\n              : checkOnlineStatus(onlineUsers, user, activeConversation.users)\n          }\n          callUser={callUser}\n        />\n        {files.length > 0 ? (\n          <FilesPreview />\n        ) : (\n          <>\n            {/*Chat messages*/}\n            <ChatMessages typing={typing} />\n            {/* Chat Actions */}\n            <ChatActions />\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,uBAAuB,QAAQ,0BAA0B;AAClE,SAASC,iBAAiB,EAAEC,iBAAiB,QAAQ,kBAAkB;AACvE,SAASC,WAAW,QAAQ,WAAW;AACvC,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,YAAY,MAAM,yBAAyB;AAClD,OAAOC,YAAY,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAExD,eAAe,SAASC,aAAaA,CAAAC,IAAA,EAAoC;EAAAC,EAAA;EAAA,IAAnC;IAAEC,WAAW;IAAEC,MAAM;IAAEC;EAAS,CAAC,GAAAJ,IAAA;EACrE,MAAMK,QAAQ,GAAGnB,WAAW,EAAE;EAC9B,MAAM;IAAEoB,kBAAkB;IAAEC;EAAM,CAAC,GAAGpB,WAAW,CAAEqB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EACxE,MAAM;IAAEC;EAAK,CAAC,GAAGvB,WAAW,CAAEqB,KAAK,IAAKA,KAAK,CAACE,IAAI,CAAC;EACnD,MAAM;IAAEC;EAAM,CAAC,GAAGD,IAAI;EACtB,MAAME,MAAM,GAAG;IACbD,KAAK;IACLE,QAAQ,EAAEP,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAEQ;EAChC,CAAC;EACD7B,SAAS,CAAC,MAAM;IACd,IAAIqB,kBAAkB,aAAlBA,kBAAkB,eAAlBA,kBAAkB,CAAEQ,GAAG,EAAE;MAC3BT,QAAQ,CAACjB,uBAAuB,CAACwB,MAAM,CAAC,CAAC;IAC3C;EACF,CAAC,EAAE,CAACN,kBAAkB,CAAC,CAAC;EACxB,oBACEV,OAAA;IAAKmB,SAAS,EAAC,0FAA0F;IAAAC,QAAA,eAEvGpB,OAAA;MAAAoB,QAAA,gBAEEpB,OAAA,CAACJ,UAAU;QACTyB,MAAM,EACJX,kBAAkB,CAACY,OAAO,GACtB,KAAK,GACL7B,iBAAiB,CAACa,WAAW,EAAEQ,IAAI,EAAEJ,kBAAkB,CAACa,KAAK,CAClE;QACDf,QAAQ,EAAEA;MAAS;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACnB,EACDhB,KAAK,CAACiB,MAAM,GAAG,CAAC,gBACf5B,OAAA,CAACF,YAAY;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,gBAEhB3B,OAAA,CAAAE,SAAA;QAAAkB,QAAA,gBAEEpB,OAAA,CAACH,YAAY;UAACU,MAAM,EAAEA;QAAO;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAG,eAEhC3B,OAAA,CAACL,WAAW;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAG;MAAA,gBAElB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACG;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACF;AAEV;AAACtB,EAAA,CAxCuBF,aAAa;EAAA,QAClBb,WAAW,EACUC,WAAW,EAChCA,WAAW;AAAA;AAAAsC,EAAA,GAHN1B,aAAa;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}