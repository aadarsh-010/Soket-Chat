{"ast":null,"code":"var _jsxFileName = \"E:\\\\Soket-chat\\\\Soket-Chat\\\\Frontend\\\\src\\\\components\\\\sidebar\\\\header\\\\createGroup\\\\CreateGroup.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { ReturnIcon, ValidIcon } from \"../../../../svg\";\nimport UnderlineInput from \"./UnderlineInput\";\nimport MultipleSelect from \"./MultipleSelect\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { createGroupConversation } from \"../../../../features/chatSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateGroup(_ref) {\n  _s();\n  let {\n    setShowCreateGroup\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => state.user);\n  const {\n    status\n  } = useSelector(state => state.chat);\n  const [name, setName] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const handleSearch = async e => {\n    if (e.target.value && e.key === \"Enter\") {\n      setSearchResults([]);\n      try {\n        const {\n          data\n        } = await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/user?search=${e.target.value}`, {\n          headers: {\n            Authorization: `Bearer ${user.token}`\n          }\n        });\n        if (data.length > 0) {\n          let tempArray = [];\n          data.forEach(user => {\n            let temp = {\n              value: user._id,\n              label: user.name,\n              picture: user.picture\n            };\n            tempArray.push(temp);\n          });\n          setSearchResults(tempArray);\n        } else {\n          setSearchResults([]);\n        }\n      } catch (error) {\n        console.log(error.response.data.error.message);\n      }\n    } else {\n      setSearchResults([]);\n    }\n  };\n  const createGroupHandler = async () => {\n    if (status !== \"loading\") {\n      let users = [];\n      selectedUsers.forEach(user => {\n        users.push(user.value);\n      });\n      let values = {\n        name,\n        users,\n        token: user.token\n      };\n      let newConvo = await dispatch(createGroupConversation(values));\n      setShowCreateGroup(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"createGroupAnimation relative flex0030 h-full z-40\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn w-6 h-6 border\",\n        onClick: () => setShowCreateGroup(false),\n        children: /*#__PURE__*/_jsxDEV(ReturnIcon, {\n          className: \"fill-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UnderlineInput, {\n        name: name,\n        setName: setName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MultipleSelect, {\n        selectedUsers: selectedUsers,\n        searchResults: searchResults,\n        setSelectedUsers: setSelectedUsers,\n        handleSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-1/3 left-1/2 -translate-x-1/2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn bg-green_1 scale-150 hover:bg-green-500\",\n          onClick: () => createGroupHandler(),\n          children: status === \"loading\" ? /*#__PURE__*/_jsxDEV(ClipLoader, {\n            color: \"#E9EDEF\",\n            size: 25\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ValidIcon, {\n            className: \"fill-white mt-2 h-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateGroup, \"XiAe6GhWLnPKtobd1IIFsRn8xdo=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = CreateGroup;\nvar _c;\n$RefreshReg$(_c, \"CreateGroup\");","map":{"version":3,"names":["useState","ReturnIcon","ValidIcon","UnderlineInput","MultipleSelect","useDispatch","useSelector","axios","ClipLoader","createGroupConversation","jsxDEV","_jsxDEV","CreateGroup","_ref","_s","setShowCreateGroup","dispatch","user","state","status","chat","name","setName","searchResults","setSearchResults","selectedUsers","setSelectedUsers","handleSearch","e","target","value","key","data","get","process","env","REACT_APP_API_ENDPOINT","headers","Authorization","token","length","tempArray","forEach","temp","_id","label","picture","push","error","console","log","response","message","createGroupHandler","users","values","newConvo","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","color","size","_c","$RefreshReg$"],"sources":["E:/Soket-chat/Soket-Chat/Frontend/src/components/sidebar/header/createGroup/CreateGroup.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { ReturnIcon, ValidIcon } from \"../../../../svg\";\nimport UnderlineInput from \"./UnderlineInput\";\nimport MultipleSelect from \"./MultipleSelect\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { createGroupConversation } from \"../../../../features/chatSlice\";\nexport default function CreateGroup({ setShowCreateGroup }) {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => state.user);\n  const { status } = useSelector((state) => state.chat);\n  const [name, setName] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const handleSearch = async (e) => {\n    if (e.target.value && e.key === \"Enter\") {\n      setSearchResults([]);\n      try {\n        const { data } = await axios.get(\n          `${process.env.REACT_APP_API_ENDPOINT}/user?search=${e.target.value}`,\n          {\n            headers: {\n              Authorization: `Bearer ${user.token}`,\n            },\n          }\n        );\n        if (data.length > 0) {\n          let tempArray = [];\n          data.forEach((user) => {\n            let temp = {\n              value: user._id,\n              label: user.name,\n              picture: user.picture,\n            };\n            tempArray.push(temp);\n          });\n          setSearchResults(tempArray);\n        } else {\n          setSearchResults([]);\n        }\n      } catch (error) {\n        console.log(error.response.data.error.message);\n      }\n    } else {\n      setSearchResults([]);\n    }\n  };\n  const createGroupHandler = async () => {\n    if (status !== \"loading\") {\n      let users = [];\n      selectedUsers.forEach((user) => {\n        users.push(user.value);\n      });\n      let values = {\n        name,\n        users,\n        token: user.token,\n      };\n      let newConvo = await dispatch(createGroupConversation(values));\n      setShowCreateGroup(false);\n    }\n  };\n  return (\n    <div className=\"createGroupAnimation relative flex0030 h-full z-40\">\n      {/*Container*/}\n      <div className=\"mt-5\">\n        {/*Return/Close button*/}\n        <button\n          className=\"btn w-6 h-6 border\"\n          onClick={() => setShowCreateGroup(false)}\n        >\n          <ReturnIcon className=\"fill-white\" />\n        </button>\n        {/*Group name input*/}\n        <UnderlineInput name={name} setName={setName} />\n        {/*Multiple select */}\n        <MultipleSelect\n          selectedUsers={selectedUsers}\n          searchResults={searchResults}\n          setSelectedUsers={setSelectedUsers}\n          handleSearch={handleSearch}\n        />\n        {/*Create group button*/}\n        <div className=\"absolute bottom-1/3 left-1/2 -translate-x-1/2\">\n          <button\n            className=\"btn bg-green_1 scale-150 hover:bg-green-500\"\n            onClick={() => createGroupHandler()}\n          >\n            {status === \"loading\" ? (\n              <ClipLoader color=\"#E9EDEF\" size={25} />\n            ) : (\n              <ValidIcon className=\"fill-white mt-2 h-full\" />\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}