{"ast":null,"code":"var _jsxFileName = \"E:\\\\Soket-chat\\\\Soket-Chat\\\\Frontend\\\\src\\\\components\\\\Chat\\\\actions\\\\ChatActions.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ClipLoader } from \"react-spinners\";\nimport { sendMessage } from \"../../../features/chatSlice\";\nimport { SendIcon } from \"../../../svg\";\nimport { Attachments } from \"./attachments\";\nimport EmojiPickerApp from \"./EmojiPicker\";\nimport Input from \"./Input\";\nimport SocketContext from \"../../../context/SocketContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatActions(_ref) {\n  _s();\n  let {\n    socket\n  } = _ref;\n  const dispatch = useDispatch();\n  const [showPicker, setShowPicker] = useState(false);\n  const [showAttachments, setShowAttachments] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    activeConversation,\n    status\n  } = useSelector(state => state.chat);\n  const {\n    user\n  } = useSelector(state => state.user);\n  const {\n    token\n  } = user;\n  const [message, setMessage] = useState(\"\");\n  const textRef = useRef();\n  const values = {\n    message,\n    convo_id: activeConversation._id,\n    files: [],\n    token\n  };\n  const SendMessageHandler = async e => {\n    e.preventDefault();\n    setLoading(true);\n    let newMsg = await dispatch(sendMessage(values));\n    socket.emit(\"send message\", newMsg.payload);\n    setMessage(\"\");\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => SendMessageHandler(e),\n    className: \"dark:bg-dark_bg_2 h-[60px] w-full flex items-center absolute bottom-0 py-2 px-4 select-none\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex items-center gap-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex gap-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(EmojiPickerApp, {\n          textRef: textRef,\n          message: message,\n          setMessage: setMessage,\n          showPicker: showPicker,\n          setShowPicker: setShowPicker,\n          setShowAttachments: setShowAttachments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Attachments, {\n          showAttachments: showAttachments,\n          setShowAttachments: setShowAttachments,\n          setShowPicker: setShowPicker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        message: message,\n        setMessage: setMessage,\n        textRef: textRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        children: status === \"loading\" && loading ? /*#__PURE__*/_jsxDEV(ClipLoader, {\n          color: \"#E9EDEF\",\n          size: 25\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(SendIcon, {\n          className: \"dark:fill-dark_svg_1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatActions, \"G683gJs5MtJEezwP0wySTmDGnBs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = ChatActions;\nconst ChatActionsWithSocket = props => /*#__PURE__*/_jsxDEV(SocketContext.Consumer, {\n  children: socket => /*#__PURE__*/_jsxDEV(ChatActions, {\n    ...props,\n    socket: socket\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 18\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 73,\n  columnNumber: 3\n}, this);\n_c2 = ChatActionsWithSocket;\nexport default ChatActionsWithSocket;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChatActions\");\n$RefreshReg$(_c2, \"ChatActionsWithSocket\");","map":{"version":3,"names":["useEffect","useRef","useState","useDispatch","useSelector","ClipLoader","sendMessage","SendIcon","Attachments","EmojiPickerApp","Input","SocketContext","jsxDEV","_jsxDEV","ChatActions","_ref","_s","socket","dispatch","showPicker","setShowPicker","showAttachments","setShowAttachments","loading","setLoading","activeConversation","status","state","chat","user","token","message","setMessage","textRef","values","convo_id","_id","files","SendMessageHandler","e","preventDefault","newMsg","emit","payload","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","color","size","_c","ChatActionsWithSocket","props","Consumer","_c2","$RefreshReg$"],"sources":["E:/Soket-chat/Soket-Chat/Frontend/src/components/Chat/actions/ChatActions.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ClipLoader } from \"react-spinners\";\nimport { sendMessage } from \"../../../features/chatSlice\";\nimport { SendIcon } from \"../../../svg\";\nimport { Attachments } from \"./attachments\";\nimport EmojiPickerApp from \"./EmojiPicker\";\nimport Input from \"./Input\";\nimport SocketContext from \"../../../context/SocketContext\";\nfunction ChatActions({ socket }) {\n  const dispatch = useDispatch();\n  const [showPicker, setShowPicker] = useState(false);\n  const [showAttachments, setShowAttachments] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { activeConversation, status } = useSelector((state) => state.chat);\n  const { user } = useSelector((state) => state.user);\n  const { token } = user;\n  const [message, setMessage] = useState(\"\");\n  const textRef = useRef();\n  const values = {\n    message,\n    convo_id: activeConversation._id,\n    files: [],\n    token,\n  };\n  const SendMessageHandler = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    let newMsg = await dispatch(sendMessage(values));\n    socket.emit(\"send message\", newMsg.payload);\n    setMessage(\"\");\n    setLoading(false);\n  };\n  return (\n    <form\n      onSubmit={(e) => SendMessageHandler(e)}\n      className=\"dark:bg-dark_bg_2 h-[60px] w-full flex items-center absolute bottom-0 py-2 px-4 select-none\"\n    >\n      {/*Container*/}\n      <div className=\"w-full flex items-center gap-x-2\">\n        {/*Emojis and attachpments*/}\n        <ul className=\"flex gap-x-2\">\n          <EmojiPickerApp\n            textRef={textRef}\n            message={message}\n            setMessage={setMessage}\n            showPicker={showPicker}\n            setShowPicker={setShowPicker}\n            setShowAttachments={setShowAttachments}\n          />\n          <Attachments\n            showAttachments={showAttachments}\n            setShowAttachments={setShowAttachments}\n            setShowPicker={setShowPicker}\n          />\n        </ul>\n        {/*Input*/}\n        <Input message={message} setMessage={setMessage} textRef={textRef} />\n        {/*Send button*/}\n        <button type=\"submit\" className=\"btn\">\n          {status === \"loading\" && loading ? (\n            <ClipLoader color=\"#E9EDEF\" size={25} />\n          ) : (\n            <SendIcon className=\"dark:fill-dark_svg_1\" />\n          )}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nconst ChatActionsWithSocket = (props) => (\n  <SocketContext.Consumer>\n    {(socket) => <ChatActions {...props} socket={socket} />}\n  </SocketContext.Consumer>\n);\nexport default ChatActionsWithSocket;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}